{
  "hash": "77eeabe8e97f144e09b4f69a5d857282",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"A2 part 2 Absenteeism (DataSetsVerse, EducationR)\"\nformat: html\nauthor: Aditya Das, Jashith, Manal Nazer\n---\n\n# A2 Part 2 Absenteeism (DataSetsVerse, EducationR)\n\nThis dataset, absenteeism_tbl_df, is a tibble containing information about absenteeism from school and certain demographic characteristics of children in rural New South Wales, Australia. The dataset includes data from 146 randomly sampled students during a particular school year, providing insights into the relationships between absenteeism and variables such as ethnicity, sex, age group, and learning categories.\n\n------------------------------------------------------------------------\n\n## Data dictionary\n\nA tibble with 146 observations and 5 variables:\n\n## Qualitative Variables:\n\n> -   **ethnicity** Ethnicity of the student (factor with 2 levels).\n> -   **sex** Sex of the student (factor with 2 levels).\n> -   **grade_group** Age group of the student via grade levels (factor with 4 levels).\n> -   **learning_pace** Learning category of the student, e.g., slow learner or average student (factor with 2 levels).\n\n## Quantitative Variables:\n\n> -   **days_absent** Number of days the student was absent from school (integer).\n\n------------------------------------------------------------------------\n\n## Our questions before performing EDA:\n\n-   What is the overall distribution of absenteeism?\n-   Do students from different ethnicities show different absenteeism patterns? Is one group more frequently absent than the other?\n-   Is there a difference in absenteeism between male and female students?\n-   Does gender distribution differ across learning or age groups? How does absenteeism vary across age groups (F0, F1, F2, F3)?\n-   Are older or younger students more likely to be absent? Are slow learners (SL) absent more often than average learners (AL)?\n-   Is the absenteeism pattern consistent across sexes and ethnicities?\n-   Is there an interaction between lrn and age on absenteeism?\n-   Do female slow learners differ from male slow learners in absenteeism?\n-   What’s the average number of days absent for each group (by sex, eth, lrn, age)? Which combination of factors corresponds to the highest absenteeism?\n\n------------------------------------------------------------------------\n\n#### Setting up libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DataSetsVerse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: timeSeriesDataSets\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: educationR\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: crimedatasets\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: MedDataSets\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: OncoDataSets\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n═══════════════════════════ Welcome to DataSetsVerse ═══════════════════════════\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nA metapackage for thematic and domain-specific datasets in R.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ timeSeriesDataSets v0.1.0\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ educationR         v0.1.0\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ crimedatasets      v0.1.0\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ MedDataSets        v0.1.0\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n✔ OncoDataSets       v0.1.0\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggridges)\nlibrary(tidyverse) # Tidy data processing and plotting\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.2\n✔ ggplot2   4.0.0     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula) # Formula based plots\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: scales\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\n\nNew to ggformula?  Try the tutorials: \n\tlearnr::run_tutorial(\"introduction\", package = \"ggformula\")\n\tlearnr::run_tutorial(\"refining\", package = \"ggformula\")\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic) # Our go-to package\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following object is masked from 'package:scales':\n\n    rescale\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr) # Another Data inspection package\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(GGally) # Corr plots\nlibrary(broom) # Clean reports from Stats / ML outputs\nlibrary(devtools)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: usethis\n```\n\n\n:::\n\n```{.r .cell-code}\n# devtools::install_github(\"rpruim/Lock5withR\")\nlibrary(Lock5withR) # Datasets\nlibrary(easystats) # Easy Statistical Analysis and Charts\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n# Attaching packages: easystats 0.7.5 (red = needs update)\n✔ bayestestR  0.17.0   ✔ correlation 0.8.8 \n✖ datawizard  1.2.0    ✔ effectsize  1.0.1 \n✔ insight     1.4.2    ✔ modelbased  0.13.0\n✖ performance 0.15.1   ✔ parameters  0.28.2\n✔ report      0.6.1    ✔ see         0.12.0\n\nRestart the R-Session and update packages with `easystats::easystats_update()`.\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(correlation) # Different Types of Correlations\nlibrary(janitor) # Data cleaning and tidying package\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following object is masked from 'package:insight':\n\n    clean_names\n\nThe following objects are masked from 'package:datawizard':\n\n    remove_empty, remove_empty_rows\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(visdat) # Visualize whole dataframes for missing data\nlibrary(naniar) # Clean missing data\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'naniar'\n\nThe following object is masked from 'package:skimr':\n\n    n_complete\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(DT) # Interactive Tables for our data\nlibrary(tinytable) # Elegant Tables for our data\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'tinytable'\n\nThe following object is masked from 'package:ggplot2':\n\n    theme_void\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggrepel) # Repelled Text Labels in ggplot\nlibrary(marquee) # Marquee Text Labels in ggplot\nlibrary(correlation)\nlibrary(tidyverse)\nlibrary(mosaic) # Our trusted friend\nlibrary(skimr)\nlibrary(ggformula) # Formula interface to ggplot2\nlibrary(vcd) # Michael Friendly's package, Visualizing Categorical\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: grid\n\nAttaching package: 'vcd'\n\nThe following object is masked from 'package:effectsize':\n\n    oddsratio\n\nThe following object is masked from 'package:mosaic':\n\n    mplot\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(vcdExtra) # Categorical Data Sets\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: gnm\n\nAttaching package: 'gnm'\n\nThe following object is masked from 'package:parameters':\n\n    parameters\n\nThe following object is masked from 'package:lattice':\n\n    barley\n\n\nAttaching package: 'vcdExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    summarise\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(resampledata) # More datasets\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'resampledata'\n\nThe following object is masked from 'package:vcdExtra':\n\n    TV\n\nThe following object is masked from 'package:datasets':\n\n    Titanic\n```\n\n\n:::\n\n```{.r .cell-code}\n# library(visStatistics) # Comprehensive all-in-one stats viz/test package\nlibrary(ggmosaic) # Tidy Mosaic Plots\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'ggmosaic'\n\nThe following objects are masked from 'package:vcd':\n\n    mosaic, spine\n\nThe following object is masked from 'package:GGally':\n\n    happy\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggpubr) # Colours, Themes and new geometries in ggplot\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'ggpubr'\n\nThe following objects are masked from 'package:datawizard':\n\n    mean_sd, median_mad\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(janitor) # Data Cleaning and Tidying\nlibrary(visdat) # Visualize whole dataframes for missing data\nlibrary(naniar) # Clean missing data\nlibrary(DT) # Interactive Tables for our data\nlibrary(tinytable) # Elegant Tables for our data\nlibrary(ggrepel) # Repelling Text Labels in ggplot\nlibrary(marquee) # Marquee Text in ggplot\nlibrary(tmap)\n```\n:::\n\n\n#### Reading and taking a look at the data set:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(absenteeism_tbl_df, package = \"educationR\")\nabsenteeism <- absenteeism_tbl_df %>% \n    janitor::clean_names(case = \"snake\")\n\ndplyr::glimpse(absenteeism)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 146\nColumns: 5\n$ eth  <fct> A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A,…\n$ sex  <fct> M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M, M,…\n$ age  <fct> F0, F0, F0, F0, F0, F0, F0, F0, F1, F1, F1, F1, F1, F2, F2, F2, F…\n$ lrn  <fct> SL, SL, SL, AL, AL, AL, AL, AL, SL, SL, SL, AL, AL, SL, SL, SL, S…\n$ days <int> 2, 11, 14, 5, 5, 13, 20, 22, 6, 6, 15, 7, 14, 6, 32, 53, 57, 14, …\n```\n\n\n:::\n:::\n\n\n#### Inspecting the data and exploring it:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_dat(absenteeism)\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nvisdat::vis_miss(absenteeism)\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n\n```{.r .cell-code}\nabsenteeism\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 146 × 5\n   eth   sex   age   lrn    days\n   <fct> <fct> <fct> <fct> <int>\n 1 A     M     F0    SL        2\n 2 A     M     F0    SL       11\n 3 A     M     F0    SL       14\n 4 A     M     F0    AL        5\n 5 A     M     F0    AL        5\n 6 A     M     F0    AL       13\n 7 A     M     F0    AL       20\n 8 A     M     F0    AL       22\n 9 A     M     F1    SL        6\n10 A     M     F1    SL        6\n# ℹ 136 more rows\n```\n\n\n:::\n:::\n\n\n### Observations:\n\n-   no missing data\n\n-   **ethnicity (eth):** Contains two categories - \"A\" for Aboriginal students and \"N\" for Non-Aboriginal students.\n\n-   **age**: Ranges from F0 to F3, representing internal codes likely based on grade levels. Based on external data from NSW government sites, this dataset may capture primary school children aged 5-9 years. To maintain consistency with the dataset's coding system, we'll retain the F0-F3 classification.\n\n-   **Learning category (lrn)**: Indicates whether a student is classified as \"SL\" (Slow Learner) or \"AL\" (Average Learner).\n\n-   **days**: Represents the total number of days the student was absent from school during the observation period\n\n#### Proposed renaming:\n\n> -   age → grade_group (more accurately reflects the F0-F3 coding system)\n> -   lrn → learning_pace (clearer descriptor of what the variable measures)\n> -   days → days_absent (clearly shows these are absence days)\n> -   eth → ethnicity for clarity\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 <- absenteeism %>%\n  rename(\"ethnicity\" = eth) %>%\n  rename(\"learning_pace\" = lrn) %>%\n  rename(\"days_absent\" = days) %>% \n  rename(\"grade_group\" = age) \n\nabsenteeism1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 146 × 5\n   ethnicity sex   grade_group learning_pace days_absent\n   <fct>     <fct> <fct>       <fct>               <int>\n 1 A         M     F0          SL                      2\n 2 A         M     F0          SL                     11\n 3 A         M     F0          SL                     14\n 4 A         M     F0          AL                      5\n 5 A         M     F0          AL                      5\n 6 A         M     F0          AL                     13\n 7 A         M     F0          AL                     20\n 8 A         M     F0          AL                     22\n 9 A         M     F1          SL                      6\n10 A         M     F1          SL                      6\n# ℹ 136 more rows\n```\n\n\n:::\n:::\n\n\nFirst, we wanted to see the overall distribution of the data set:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(absenteeism1, aes(x = days_absent)) +\n  geom_density(fill = \"skyblue\", alpha = 0.5) +\n  labs(\n    title = \"Density Plot of Days Absent\",\n    subtitle = \"Distribution of Absenteeism Across All Students\",\n    x = \"Days Absent\",\n    y = \"Density\"\n  ) +\n  theme_minimal(base_size = 13)\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\nabsenteeism1 %>% \n  gf_histogram(~days_absent, fill = \"pink\") %>% \n  gf_labs(title = \"Histogram Plot of Days Absent\",\n    subtitle = \"Distribution of Absenteeism Across All Students\",\n    x = \"Days Absent\",\n    y = \"count\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n\nFrom the above plots, we see a rightpskewed distribution. Most students cluster at the lower end (0-15 days absent). A long tail extends to the right, with some students having very high absences (up to \\~80 days). This suggests most students have good attendance, but a small group has chronic absenteeism. One hypothese is that the histogram bins suggests different patterns of absenteeism (e.g., occasional illness vs. chronic issues or even other causes).\n\nQuestions this raises: *Who are the extreme cases? Are the students with 60-80 days absent concentrated in specific demographic groups (ethnicity, learning pace, grade_group, sex)?*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>%\n  gf_violin(ethnicity ~ days_absent, fill = ~sex) %>%\n  gf_labs(title = \"Distribution of Absenteeism Across Ethnicities and Sex\")\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nIn the Violin plot, we see that the distribution for Aboriginal females show dramatically more variability than Non-Aboriginal females. For the males, we see more similar patterns across ethnicities, though Aboriginal males have slightly wider spread. Aboriginal students show much greater variability (wider violins). Non-Aboriginal students have more concentrated, predictable attendance patterns.\n\n*What drives the huge variability in Aboriginal female attendance? Some attend very well, others miss extensively.*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>% \n  gf_histogram(~days_absent) %>% \n  gf_facet_wrap(~ethnicity) %>%\n  gf_labs(\n    title = \"Distribution of Days Absent by Ethnicity\",\n    subtitle = \"Comparing absenteeism patterns between Aboriginal and Non-Aboriginal students\",\n    x = \"Days Absent\",\n    y = \"Counts\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n```{.r .cell-code}\nabsenteeism1 %>% \n  gf_density(~days_absent, color = ~ethnicity) %>%\n  gf_labs(\n    title = \"Density Distribution of Days Absent by Ethnicity\",\n    subtitle = \"Overlapping density curves showing absenteeism patterns\",\n    x = \"Days Absent\",\n    y = \"Density\"\n  )\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-7-2.png){width=672}\n:::\n:::\n\n\nThe histogram confirms that Aboriginal students have a more dispersed, unpredictable attendance pattern, while Non-Aboriginal students follow a more concentrated, consistent pattern (most cluster at very low absences). The shape difference suggests differing attendance dynamics between ethnic groups.\n\n*Why do Non-Aboriginal students show more homogeneous patterns? More stable circumstances? Better support systems?*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>% \ndplyr::count(ethnicity, sex, grade_group, learning_pace)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 28 × 5\n   ethnicity sex   grade_group learning_pace     n\n   <fct>     <fct> <fct>       <fct>         <int>\n 1 A         F     F0          AL                4\n 2 A         F     F0          SL                1\n 3 A         F     F1          AL                5\n 4 A         F     F1          SL               10\n 5 A         F     F2          AL                1\n 6 A         F     F2          SL                8\n 7 A         F     F3          AL                9\n 8 A         M     F0          AL                5\n 9 A         M     F0          SL                3\n10 A         M     F1          AL                2\n# ℹ 18 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\nabsenteeism1 %>% \ndplyr::count(grade_group)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 2\n  grade_group     n\n  <fct>       <int>\n1 F0             27\n2 F1             46\n3 F2             40\n4 F3             33\n```\n\n\n:::\n\n```{.r .cell-code}\nabsenteeism1 %>% \ndplyr::count(learning_pace)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  learning_pace     n\n  <fct>         <int>\n1 AL               83\n2 SL               63\n```\n\n\n:::\n\n```{.r .cell-code}\nabsenteeism1 %>% \ndplyr::count(grade_group, learning_pace)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 3\n  grade_group learning_pace     n\n  <fct>       <fct>         <int>\n1 F0          AL               19\n2 F0          SL                8\n3 F1          AL               15\n4 F1          SL               31\n5 F2          AL               16\n6 F2          SL               24\n7 F3          AL               33\n```\n\n\n:::\n:::\n\n\n## Observation to note:\n\nF3 (33 entries) comprises of only Average Learner Students.\n\nWe could see how many average and slow learners exist in each ethnicity.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>% \n\n  gf_bar(~ethnicity,\n    fill = ~learning_pace,\n    position = \"dodge\") %>%\n  gf_labs(title = \"Distribution of Average and Slow Learners Across Ethnicities\") %>% \n  gf_facet_wrap(~sex)\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>% \ndplyr::count(ethnicity, sex, learning_pace)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 8 × 4\n  ethnicity sex   learning_pace     n\n  <fct>     <fct> <fct>         <int>\n1 A         F     AL               19\n2 A         F     SL               19\n3 A         M     AL               21\n4 A         M     SL               10\n5 N         F     AL               21\n6 N         F     SL               21\n7 N         M     AL               22\n8 N         M     SL               13\n```\n\n\n:::\n:::\n\n\nLearning pace classifications are quite evenly distributed for females regardless of ethnicity.\n\nMales have proportionally fewer slow learners than females. Both ethnic groups show similar patterns (more AL than SL), but Aboriginal males have a slightly larger gap.\n\n*Why are more males classified as Average Learners compared to females? Is this a real educational difference, or could there be bias in how learning pace is assessed?*\n\n------------------------------------------------------------------------\n\nNext, we checked whether students from different ethnicities showed different absenteeism patterns:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>% \n  gf_boxplot(ethnicity~days_absent, orientation = \"y\", color =~ learning_pace) %>% \n  gf_labs(title=\"Absenteeism Patterns Across Ethnicity and Learning Pace\",\n          subtitle=\"Faceted by sex to examine gender differences\") %>% \n    gf_facet_wrap(~sex)\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n------------------------------------------------------------------------\n\nTo get a better idea on the impact of ethnicity and sex on days of absence:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>%\n  gf_jitter(ethnicity ~ days_absent, \n            color = ~sex,\n            width = 0, \n            height = 0.2,\n            alpha = 0.9) %>%\n  gf_summary(fun.data = \"mean_se\",\n             geom = \"pointrange\", \n             size = 0.8, \n             color = \"black\") %>% \n  gf_labs(title=\"Student Absenteeism by Ethnicity and Gender (Mean ± SE)\")\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\nAboriginal students have slightly higher average absenteeism (\\~20 days) compared to non-Aboriginal students (\\~15 days), though non-Aboriginal students show greater variability with more extreme outliers (40-80+ days absent). Gender has minimal impact on absenteeism patterns within either ethnic group. The majority of students across all groups are absent 0-22 days, with the mean and standard error clearly displayed for easy comparison.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>%\n  gf_boxplot(grade_group ~ days_absent,\n             fill = ~sex,\n             orientation = \"y\",\n             alpha = 0.5) %>%\n  gf_facet_grid(learning_pace ~ ethnicity) %>%\n  gf_refine(scale_fill_brewer(type = \"qual\", palette = \"Set1\")) %>%\n  gf_labs(\n    title = \"Absenteeism by Grade, Learning Pace, Sex, and Ethnicity\",\n    x = \"Days Absent\",\n    y = \"Grade Group\"\n  )\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\nAverage learners had generally lower absences across all groups. The median is also typically under 20 days for most groups. Slow learners, on the other hand, had dramatically higher absences, especially for Aboriginal females in F2 (median \\~30-40 days, extends to 80+ days) and Non-Aboriginal males in F0 (huge spread, median \\~18 days, extends to 60+ days). This difference appears across almost every category, suggesting a strong link between learning pace and attendance.\n\nWith regards to ethnicity patterns, Aboriginal students showed greater variation, especially among slow learners. F2 Female slow learners had exceptionally high absences while Aboriginal male average learners (F2) also showed notable absences. For Non-Aboriginal Average Learning Students, the distribution was more concentrated. Non-Aboriginal male Slow Learners in F0 show unusually high absences (40+ days median). What is also interesting here is how in F3, Non-Aboriginal Average Learning male Students had a median absence range of 20+ and extending to 60+. Can't be compared to SL as there is no data for the same.\n\nAcross grade levels, absences tend to rise slightly as students move up, but slow learners remain irregular regardless of grade. Gender differences are smaller but visible in certain cases, such as SL Aboriginal females in F2 and SL Non-Aboriginal males in F0, both of whom show higher absences than their counterparts.\n\nIn short, slow learners (especially Aboriginal females in F2) are the most vulnerable group, while average learners in lower grades show the best attendance. Thus, we can say that Students classified as Slow Learners miss significantly more school.\n\n**This raises an important question:** *Are they slow learners because they miss school, or or do they fall behind because of frequent absences?*\n\n------------------------------------------------------------------------\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>%\n  gf_density_ridges(grade_group ~ days_absent, \n                    fill = ~grade_group, \n                    alpha = 0.5) %>%\n  gf_refine(scale_fill_brewer(\n    name = \"Grade Group\",\n    palette = \"Spectral\"\n  )) %>%\n  gf_labs(\n    title = \"Distribution of Days Absent by Grade Level\",\n    subtitle = \"Ridge Plot showing absenteeism patterns across grades\",\n    x = \"Days Absent\",\n    y = \"Grade Group\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nPicking joint bandwidth of 5.96\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\nAbsenteeism patterns vary significantly by grade level, with younger students (F0) showing more consistent attendance and older students (F1-F3) displaying greater variability.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsenteeism1 %>%\n  gf_violin( grade_group ~ days_absent, \n            fill = ~grade_group, \n            colour = ~grade_group, \n            alpha = 0.5,\n            draw_quantiles = c(0.25, 0.50, 0.75)) %>%\n  gf_facet_grid(sex ~ ethnicity,\n                labeller = labeller(\n                  sex = c(F = \"Female\", M = \"Male\"),\n                  ethnicity = c(A = \"Aboriginal\", N = \"Non-Aboriginal\")\n                )) %>%\n  gf_labs(\n    title = \"Days Absent by Grade Group\",\n    subtitle = \"Faceted by Sex and Ethnicity with quartile lines\",\n    x = \"Grade Group\",\n    y = \"Days Absent\"\n  ) %>%\n  gf_theme(theme(axis.text.x = element_text(angle = 45, hjust = 1)))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The `draw_quantiles` argument of `stat_ydensity()` is deprecated as of ggplot2\n4.0.0.\nℹ Please use the `quantiles` argument instead.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n```{.r .cell-code}\nabsenteeism1 %>%\n  dplyr::count(ethnicity, sex)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 3\n  ethnicity sex       n\n  <fct>     <fct> <int>\n1 A         F        38\n2 A         M        31\n3 N         F        42\n4 N         M        35\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nabsent_table <- xtabs(~ ethnicity + sex + learning_pace + grade_group, data = absenteeism1)\n\n# now make the mosaic plot\nvcd::mosaic(absent_table,\n            shade = TRUE,\n            legend = TRUE,\n            main = \"Mosaic Plot: Observed Frequencies\")\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n\n```{.r .cell-code}\nvcd::mosaic(absent_table,\n            shade = TRUE,\n            legend = TRUE,\n              type = \"expected\",\n            main = \"Mosaic Plot: expected Frequencies\")\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-16-2.png){width=672}\n:::\n\n```{.r .cell-code}\nvcd::assoc(absent_table,\n            shade = TRUE,\n            legend = TRUE,\n            main = \"Mosaic Plot: Associated Frequencies\")\n```\n\n::: {.cell-output-display}\n![](AbsenteeismA2_files/figure-html/unnamed-chunk-16-3.png){width=672}\n:::\n:::\n\n\nFrom the mosaic observed chart, it is evident that there is more sampling in the F1 grade group compared to other grades. There are also significantly more slow learners in F1 than expected, especially among females across both ethnicities. In contrast, there are fewer than expected average learners in the female F2 group across both ethnicities.\n\nThe expected frequencies plot illustrates how students would be distributed if grade, ethnicity, sex, and learning pace were completely independent of one another. The p-values comparing observed and expected frequencies confirm that these variables are associated. Specifically, F1 Aboriginal slow learners are over-represented, while F2 Aboriginal female average learners and F3 Non-Aboriginal female slow learners are underrepresented compared to what random chance would predict.\n\nThe association plot also reveals the above learning.\n\n------------------------------------------------------------------------\n\n## Conclusion\n\nThis analysis shows that student absenteeism isn’t random, it’s shaped by a mix of factors, with learning pace standing out as the strongest one. Across almost every group, slow learners miss more school days than average learners, raising an important question: **do they fall behind because they miss school, or do they miss school because they’re already struggling?**\n\nThere are also clear ethnic differences. **Aboriginal students tend to have higher average absences and more variation in attendance, especially among females, while Non-Aboriginal students show steadier attendance patterns with only a few extreme cases**. Gender by itself doesn’t make a huge difference overall, but certain groups stand out: like Aboriginal female slow learners in F2 and Non-Aboriginal male slow learners in F0, both showing patterns of chronic absenteeism.\n\nAbsences also seem to **rise slightly with grade level, hinting that older students face more challenges staying consistent.** The mosaic plot backs this up, showing significant associations between grade, ethnicity, sex, and learning pace, with F1 showing an unexpected spike in slow learners.\n\nOverall, the findings point to a cycle where learning difficulty and absenteeism reinforce each other. Breaking that loop, especially for vulnerable groups like Aboriginal slow learners, will likely require focused, context-specific support rather than one-size-fits-all educational policies.\n",
    "supporting": [
      "AbsenteeismA2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}