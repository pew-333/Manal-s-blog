{
  "hash": "9b19c680765c973c261ffc7e593dccc7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"A2 Part 3 cuisines\"\nformat: html\nauthor: Aditya Das, Jashith, Manal Nazer\n---\n\n# A2 Part 3 cuisines\n\nA dataset of recipes scraped from Allrecipes.com, containing ingredients, cooking times, nutrition facts, country, ratings, and review counts. The data has been parsed and cleaned to ensure analysis- readiness.\n\n## Data dictionary (to be revised)\n\nA data frame with 2218 rows and 17 variables:\n\n**name** Name of the recipe\n\n**country** The country/region the cuisine is from.\n\n**url** Link to the recipe\n\n**author** Author of the recipe\n\n**date_published** When the recipe was published/updated\n\n**ingredients** The ingredients of the recipe\n\n**calories** Calories per serving fat Fat per serving\n\n**carbs** carbs per serving\n\n**protein** Proteins per serving\n\n**avg_rating** Average rating out of 5 stars\n\n**total_ratings** Number of ratings received\n\n**reviews** Number of written reviews\n\n**prep_time** Preparation time in minutes\n\n**cook_time** Cooking time in minutes\n\n**total_time** Prep + cook time in minutes. Note that this value may not always match the actual total effort required, as other time-related fields (such as refrigeration, marination, fry time, or additional wait periods) have been excluded due to inconsistent availability across recipes\n\n**servings** Number of servings\n\n------------------------------------------------------------------------\n\n## Our questions before performing EDA:\n\n-   How many unique countries are represented? Which countries contribute the most recipes?\n\n-   What are the average, minimum, and maximum values of **calories, fat, carbs, and protein**?\n\n-   Which recipes have the **highest and lowest calories**?\n\n-   Are **newer recipes** (by `date_published`) rated differently from older ones?\n\n-   What is the distribution of **prep_time, cook_time, and total_time**?\n\n-   Which recipes are **quickest** vs **most time-consuming**?\n\n-   Are longer recipes (higher total_time) rated higher or lower on average?\n\n-   Which countries have the **most calorie-dense dishes**?\n\n-   Do some cuisines tend to have **healthier** or **lower-fat** recipes?\n\n-   Are there any noticeable **regional trends** in ratings or cooking times?\n\n------------------------------------------------------------------------\n\n#### Setting up libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggformula)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: ggplot2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: scales\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: ggridges\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nNew to ggformula?  Try the tutorials: \n\tlearnr::run_tutorial(\"introduction\", package = \"ggformula\")\n\tlearnr::run_tutorial(\"refining\", package = \"ggformula\")\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tidyr)\nlibrary(viridis)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: viridisLite\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'viridis'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:scales':\n\n    viridis_pal\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggridges)\nlibrary(tastyR)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ forcats   1.0.0     ✔ readr     2.1.5\n✔ lubridate 1.9.4     ✔ stringr   1.5.2\n✔ purrr     1.1.0     ✔ tibble    3.3.0\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ readr::col_factor() masks scales::col_factor()\n✖ purrr::discard()    masks scales::discard()\n✖ dplyr::filter()     masks stats::filter()\n✖ dplyr::lag()        masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic) # Our trusted friend\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:scales':\n\n    rescale\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:mosaic':\n\n    n_missing\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula) # Formula interface to ggplot2\nlibrary(vcd) # Michael Friendly's package, Visualizing Categorical\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: grid\n\nAttaching package: 'vcd'\n\nThe following object is masked from 'package:mosaic':\n\n    mplot\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(vcdExtra) # Categorical Data Sets\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: gnm\n\nAttaching package: 'gnm'\n\nThe following object is masked from 'package:lattice':\n\n    barley\n\n\nAttaching package: 'vcdExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    summarise\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(resampledata) # More datasets\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'resampledata'\n\nThe following object is masked from 'package:vcdExtra':\n\n    TV\n\nThe following object is masked from 'package:datasets':\n\n    Titanic\n```\n\n\n:::\n\n```{.r .cell-code}\n#library(visStatistics) # Comprehensive all-in-one stats viz/test package\n\nlibrary(ggmosaic) # Tidy Mosaic Plots\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'ggmosaic'\n\nThe following objects are masked from 'package:vcd':\n\n    mosaic, spine\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggpubr) # Colours, Themes and new geometries in ggplot\n##\nlibrary(janitor) # Data Cleaning and Tidying\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(visdat) # Visualize whole dataframes for missing data\nlibrary(naniar) # Clean missing data\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'naniar'\n\nThe following object is masked from 'package:skimr':\n\n    n_complete\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(DT) # Interactive Tables for our data\nlibrary(tinytable) # Elegant Tables for our data\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'tinytable'\n\nThe following object is masked from 'package:ggplot2':\n\n    theme_void\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggrepel) # Repelling Text Labels in ggplot\nlibrary(marquee) # Marquee Text in ggplot\nlibrary(crosstable)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'crosstable'\n\nThe following object is masked from 'package:purrr':\n\n    compact\n```\n\n\n:::\n:::\n\n\n#### Reading and taking a look at the data set:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(cuisines, package = \"tastyR\")\ncuisines1 <- cuisines %>% \n    janitor::clean_names(case = \"snake\")\n\ndplyr::glimpse(cuisines1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 2,218\nColumns: 17\n$ name           <chr> \"Saganaki (Flaming Greek Cheese)\", \"Coney Island Knishe…\n$ country        <chr> \"Greek\", \"Jewish\", \"Australian and New Zealander\", \"Chi…\n$ url            <chr> \"https://www.allrecipes.com/recipe/263750/flaming-greek…\n$ author         <chr> \"John Mitzewich\", \"John Mitzewich\", \"CHIPPENDALE\", \"Hei…\n$ date_published <date> 2024-02-07, 2024-11-26, 2022-07-14, 2025-01-31, 2025-0…\n$ ingredients    <chr> \"1 (4 ounce) package kasseri cheese, 1 tablespoon water…\n$ calories       <dbl> 391, 301, 64, 106, 449, 958, 378, 90, 157, 322, 4, NA, …\n$ fat            <dbl> 25, 17, 3, 9, 23, 24, 10, 5, 6, 16, 0, NA, 21, 2, 66, 8…\n$ carbs          <dbl> 15, 31, 9, 7, 58, 144, 59, 10, 25, 39, 1, NA, 16, 63, 7…\n$ protein        <dbl> 16, 7, 1, 1, 7, 46, 14, 1, 2, 7, 0, NA, 28, 6, 54, 17, …\n$ avg_rating     <dbl> 4.8, 4.6, 4.3, 5.0, 3.8, 4.4, 4.3, NA, 4.6, 5.0, 4.7, 4…\n$ total_ratings  <dbl> 25, 10, 126, 1, 13, 40, 3, NA, 65, 2, 182, 2, 19, 16, 9…\n$ reviews        <dbl> 22, 9, 104, 1, 11, 32, 3, NA, 55, 2, 138, 2, 15, 16, 84…\n$ prep_time      <dbl> 10, 30, 20, 10, 30, 30, 30, 40, 0, 5, 5, 5, 10, 10, 20,…\n$ cook_time      <dbl> 5, 75, 15, 0, 15, 165, 75, 30, 0, 5, 0, 25, 10, 50, 16,…\n$ total_time     <dbl> 15, 180, 180, 10, 45, 675, 585, 155, 0, 10, 5, 30, 50, …\n$ servings       <dbl> 2, 16, 12, 6, 15, 6, 6, 84, 24, 1, 21, 8, 4, 10, 4, 8, …\n```\n\n\n:::\n\n```{.r .cell-code}\ncuisines1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,218 × 17\n   name     country url   author date_published ingredients calories   fat carbs\n   <chr>    <chr>   <chr> <chr>  <date>         <chr>          <dbl> <dbl> <dbl>\n 1 Saganak… Greek   http… John … 2024-02-07     1 (4 ounce…      391    25    15\n 2 Coney I… Jewish  http… John … 2024-11-26     2 ¾ cups a…      301    17    31\n 3 Diana's… Austra… http… CHIPP… 2022-07-14     1 ½ cups w…       64     3     9\n 4 Chilean… Chilean http… Heidi  2025-01-31     ½ cup chop…      106     9     7\n 5 Tex-Mex… Tex-Mex http… Ann    2025-02-18     2 cups all…      449    23    58\n 6 Newfoun… Canadi… http… MomWh… 2022-08-12     1 (3 pound…      958    24   144\n 7 Pasta e… Italian http… Buckw… 2023-12-12     1 cup dry …      378    10    59\n 8 Danish … Danish  http… TheOt… 2020-06-19     4 cups all…       90     5    10\n 9 Lemon P… Amish … http… Laura… 2025-01-21     2 cups all…      157     6    25\n10 Pan con… Spanish http… Luis … 2025-06-02     1 large to…      322    16    39\n# ℹ 2,208 more rows\n# ℹ 8 more variables: protein <dbl>, avg_rating <dbl>, total_ratings <dbl>,\n#   reviews <dbl>, prep_time <dbl>, cook_time <dbl>, total_time <dbl>,\n#   servings <dbl>\n```\n\n\n:::\n:::\n\n\n#### Inspecting the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_dat(cuisines1)\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nvisdat::vis_miss(cuisines1)\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n:::\n\n\n### Observations:\n\n-   Several entries in the **calories**, **fat**, **carbs**, **avg_rating**, **total_ratings**, and **reviews** columns contained missing values. Although removing them could slightly reduce representation across cuisines, the missing data accounted for only about **1.2%** of the dataset, so we chose to drop these rows to maintain data quality and consistency.\n\n### Dropping the NA's:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines2 <- cuisines1 %>% \ntidyr::drop_na() \ncuisines2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,058 × 17\n   name     country url   author date_published ingredients calories   fat carbs\n   <chr>    <chr>   <chr> <chr>  <date>         <chr>          <dbl> <dbl> <dbl>\n 1 Saganak… Greek   http… John … 2024-02-07     1 (4 ounce…      391    25    15\n 2 Coney I… Jewish  http… John … 2024-11-26     2 ¾ cups a…      301    17    31\n 3 Diana's… Austra… http… CHIPP… 2022-07-14     1 ½ cups w…       64     3     9\n 4 Chilean… Chilean http… Heidi  2025-01-31     ½ cup chop…      106     9     7\n 5 Tex-Mex… Tex-Mex http… Ann    2025-02-18     2 cups all…      449    23    58\n 6 Newfoun… Canadi… http… MomWh… 2022-08-12     1 (3 pound…      958    24   144\n 7 Pasta e… Italian http… Buckw… 2023-12-12     1 cup dry …      378    10    59\n 8 Lemon P… Amish … http… Laura… 2025-01-21     2 cups all…      157     6    25\n 9 Pan con… Spanish http… Luis … 2025-06-02     1 large to…      322    16    39\n10 Traci's… Filipi… http… Traci… 2022-08-28     2 tablespo…        4     0     1\n# ℹ 2,048 more rows\n# ℹ 8 more variables: protein <dbl>, avg_rating <dbl>, total_ratings <dbl>,\n#   reviews <dbl>, prep_time <dbl>, cook_time <dbl>, total_time <dbl>,\n#   servings <dbl>\n```\n\n\n:::\n:::\n\n\n160 rows were removed out of the 2218 entries through this process.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines2 %>% \n  dplyr::count(country, sort= TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 49 × 2\n   country                          n\n   <chr>                        <int>\n 1 Canadian                        66\n 2 Chinese                         64\n 3 Filipino                        64\n 4 Indian                          64\n 5 Cuban                           63\n 6 Russian                         63\n 7 Soul Food                       63\n 8 French                          61\n 9 Australian and New Zealander    60\n10 Cajun and Creole                60\n# ℹ 39 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\ncuisines2 %>% \nsummary(country)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     name             country              url               author         \n Length:2058        Length:2058        Length:2058        Length:2058       \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n date_published       ingredients           calories           fat        \n Min.   :2009-02-09   Length:2058        Min.   :   3.0   Min.   :  0.00  \n 1st Qu.:2022-11-07   Class :character   1st Qu.: 193.0   1st Qu.:  7.00  \n Median :2024-07-13   Mode  :character   Median : 321.5   Median : 15.00  \n Mean   :2023-11-07                      Mean   : 359.4   Mean   : 18.56  \n 3rd Qu.:2024-12-19                      3rd Qu.: 479.8   3rd Qu.: 25.00  \n Max.   :2025-07-29                      Max.   :2266.0   Max.   :190.00  \n     carbs           protein         avg_rating    total_ratings   \n Min.   :  1.00   Min.   :  0.00   Min.   :1.000   Min.   :  1.00  \n 1st Qu.: 13.00   1st Qu.:  4.00   1st Qu.:4.300   1st Qu.:  6.00  \n Median : 26.00   Median : 12.00   Median :4.600   Median : 25.00  \n Mean   : 32.01   Mean   : 16.72   Mean   :4.507   Mean   : 86.54  \n 3rd Qu.: 45.00   3rd Qu.: 26.00   3rd Qu.:4.800   3rd Qu.: 90.00  \n Max.   :264.00   Max.   :135.00   Max.   :5.000   Max.   :997.00  \n    reviews         prep_time        cook_time        total_time     \n Min.   :  1.00   Min.   :   0.0   Min.   :  0.00   Min.   :    0.0  \n 1st Qu.:  6.00   1st Qu.:  10.0   1st Qu.: 10.00   1st Qu.:   35.0  \n Median : 22.00   Median :  15.0   Median : 25.00   Median :   60.0  \n Mean   : 77.84   Mean   :  21.9   Mean   : 42.84   Mean   :  175.5  \n 3rd Qu.: 75.00   3rd Qu.:  25.0   3rd Qu.: 45.00   3rd Qu.:  120.0  \n Max.   :975.00   Max.   :1800.0   Max.   :600.00   Max.   :14440.0  \n    servings     \n Min.   :  1.00  \n 1st Qu.:  4.00  \n Median :  8.00  \n Mean   : 10.41  \n 3rd Qu.: 12.00  \n Max.   :240.00  \n```\n\n\n:::\n:::\n\n\n### Observations:\n\n-   Of the 49 cuisine types in the dataset, 40 represent countries while 9 represent non-country categories (religious/cultural groups, regional cuisines, and cuisine styles).\n\n-   The original \"country\" label was misleading since the data includes not just countries, but also religious groups (Jewish), cultural groups (Amish and Mennonite), regional cuisines (Tex-Mex, Southern Recipes), and cuisine styles (Soul Food). We renamed it to \"cuisines_type\" because users searching for recipes think in terms of cuisine styles rather than geographic or cultural distinctions.\n\n-   The top cuisine types by recipe count are Canadian (66), Chinese (64), Filipino (64), Indian (64), Cuban (63), Russian (63), Soul Food (63), French (61), Australian and New Zealander (60), Cajun and Creole (60), Jewish (60), and Polish (60).\n\n#### renaming country to cuisine_type:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 <- cuisines2 %>% \ndplyr::rename(\"cuisines_type\" = country)\n\ncuisines3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,058 × 17\n   name     cuisines_type url   author date_published ingredients calories   fat\n   <chr>    <chr>         <chr> <chr>  <date>         <chr>          <dbl> <dbl>\n 1 Saganak… Greek         http… John … 2024-02-07     1 (4 ounce…      391    25\n 2 Coney I… Jewish        http… John … 2024-11-26     2 ¾ cups a…      301    17\n 3 Diana's… Australian a… http… CHIPP… 2022-07-14     1 ½ cups w…       64     3\n 4 Chilean… Chilean       http… Heidi  2025-01-31     ½ cup chop…      106     9\n 5 Tex-Mex… Tex-Mex       http… Ann    2025-02-18     2 cups all…      449    23\n 6 Newfoun… Canadian      http… MomWh… 2022-08-12     1 (3 pound…      958    24\n 7 Pasta e… Italian       http… Buckw… 2023-12-12     1 cup dry …      378    10\n 8 Lemon P… Amish and Me… http… Laura… 2025-01-21     2 cups all…      157     6\n 9 Pan con… Spanish       http… Luis … 2025-06-02     1 large to…      322    16\n10 Traci's… Filipino      http… Traci… 2022-08-28     2 tablespo…        4     0\n# ℹ 2,048 more rows\n# ℹ 9 more variables: carbs <dbl>, protein <dbl>, avg_rating <dbl>,\n#   total_ratings <dbl>, reviews <dbl>, prep_time <dbl>, cook_time <dbl>,\n#   total_time <dbl>, servings <dbl>\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n#### Checking for dates published:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  dplyr::count(date_published)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 710 × 2\n   date_published     n\n   <date>         <int>\n 1 2009-02-09         1\n 2 2011-02-11         1\n 3 2011-10-19         1\n 4 2013-06-20         1\n 5 2014-06-10         1\n 6 2017-04-05         2\n 7 2017-11-09         1\n 8 2017-12-21         1\n 9 2018-03-21         6\n10 2018-06-08         5\n# ℹ 700 more rows\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \ngf_histogram(~date_published) %>% \n  gf_labs(title=\"Distribution of Date Published in the recipes dataset\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  dplyr::summarise(\n    median_date_published = median(date_published, na.rm = T),\n    min_date_published = min(date_published, na.rm=T),\n    max_date_published = max(date_published, na.rm=T))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  median_date_published min_date_published max_date_published\n  <date>                <date>             <date>            \n1 2024-07-13            2009-02-09         2025-07-29        \n```\n\n\n:::\n:::\n\n\n### Observations:\n\nThe publication dates range from 2009-02-09 to 2025-07-29, confirming this is a recently scraped dataset. The median date of 2024-07-13 and the histogram distribution indicate that most recipes were either published or collected in mid-2024, likely reflecting when the data was scraped from Allrecipes.com.\n\n------------------------------------------------------------------------\n\nWhat are the average, minimum, and maximum values of **calories, fat, carbs, and protein**?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  dplyr::summarise(mean_calories = mean(calories, na.rm=T),\n                   min_calories = min(calories, na.rm = T),\n                   max_calories = max(calories, na.rm = T)) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  mean_calories min_calories max_calories\n          <dbl>        <dbl>        <dbl>\n1          359.            3         2266\n```\n\n\n:::\n\n```{.r .cell-code}\ncuisines3 %>% \ndplyr::summarise(mean_fat = mean(fat, na.rm=T),\n                   min_fat = min(fat, na.rm = T),\n                   max_fat = max(fat, na.rm = T))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  mean_fat min_fat max_fat\n     <dbl>   <dbl>   <dbl>\n1     18.6       0     190\n```\n\n\n:::\n\n```{.r .cell-code}\ncuisines3 %>% \ndplyr::summarise(mean_carbs = mean(carbs, na.rm=T),\n                   min_carbs = min(carbs, na.rm = T),\n                   max_carbs = max(carbs, na.rm = T))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  mean_carbs min_carbs max_carbs\n       <dbl>     <dbl>     <dbl>\n1       32.0         1       264\n```\n\n\n:::\n\n```{.r .cell-code}\ncuisines3 %>% \ndplyr::summarise(mean_protein = mean(protein, na.rm=T),\n                   min_protein = min(protein, na.rm = T),\n                   max_protein = max(protein, na.rm = T))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  mean_protein min_protein max_protein\n         <dbl>       <dbl>       <dbl>\n1         16.7           0         135\n```\n\n\n:::\n:::\n\n\n### Observations:\n\nThis data set seems to be a diverse recipe collection spanning light to indulgent, with the average recipe being a reasonably balanced, moderate-calorie meal.\n\nThe calories span from 3 (likely a condiment, garnish, or data error) to 2,266 calories rich dessert, deep-fried dish, or family-style/party recipe).\n\n0g minimum protein suggests vegetable-based or carb-heavy dishes (pasta, bread) and 135g maximum suggests very protein-focused dishes (likely meat-heavy).\n\n1g minimum carbs likely implies meat/egg-focused dishes and 264g maximum carbs suggests pasta dishes, rice bowls, or baked goods.\n\n0g fat shows fat-free recipes (rare in cooking) and 190g fat shows very rich/fried dishes, cheese-heavy, or desserts with butter/cream.\n\nOverall, the mean values suggest most recipes aim for balanced nutrition, not extreme in any direction.We should be mindful of the outliers: maximum values (2,266 cal, 264g carbs, 190g fat) could skew analysis - these are likely special occasion foods or recipes meant to serve many people. The extremes might actually be total recipe values rather than per-serving, which would explain the wild maximums\n\n------------------------------------------------------------------------\n\n#### We checked for what recipes had 3 calories:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  filter(calories == 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 17\n  name      cuisines_type url   author date_published ingredients calories   fat\n  <chr>     <chr>         <chr> <chr>  <date>         <chr>          <dbl> <dbl>\n1 Simple C… Cajun and Cr… http… azstud 2025-03-05     2 ½ tables…        3     0\n# ℹ 9 more variables: carbs <dbl>, protein <dbl>, avg_rating <dbl>,\n#   total_ratings <dbl>, reviews <dbl>, prep_time <dbl>, cook_time <dbl>,\n#   total_time <dbl>, servings <dbl>\n```\n\n\n:::\n:::\n\n\nFrom this, we are sure that the dataset contains not only normal portioned dishes but also seasonings and condiments. Could drinks also come under small caloried items?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  filter(grepl(\"drink|beverage|smoothie|juice|coffee|tea|cocktail|shake|lemonade|agua|lassi\", \n               name, ignore.case = TRUE)) %>% \n  select(name, cuisines_type, calories) %>% \n  arrange(calories)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 66 × 3\n   name                          cuisines_type    calories\n   <chr>                         <chr>               <dbl>\n 1 Chinese Steamed Buns          Chinese                44\n 2 Brazilian Coffee Cookies      Brazilian              49\n 3 Indian Lassi                  Indian                 50\n 4 Thai Coffee                   Thai                   64\n 5 Chinese Tea Eggs              Chinese                75\n 6 Swedish Tea Ring              Scandinavian           83\n 7 Russian Tea Cakes             Russian               101\n 8 Vietnamese Iced Coffee        Vietnamese            129\n 9 Sweet Tea Peaches             Southern Recipes      131\n10 Refreshing Brazilian Lemonade Brazilian             145\n# ℹ 56 more rows\n```\n\n\n:::\n:::\n\n\n------------------------------------------------------------------------\n\n#### We explored recipe ratings over time:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  gf_point(avg_rating ~ date_published, color = \"maroon\", alpha = 0.3) %>% \n  gf_smooth(method = \"lm\", color = \"blue\") %>% \n  gf_labs(title= \"Recipe Ratings Over Time\",\n          x= \"date published\",\n          y=\"average ratings\")\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n### Observations:\n\nThe trend line shows ratings starting around 3.5 in 2009 and climbing to around 4.5+ by 2025. There's a clear upward trend over time. Most recipes are highly rated, the vast majority of points cluster between 4.0-5.0 stars. There are very few points below 3.0 stars across any time period. Low ratings are rare outliers. The upward trend could mean:\n\n-   Newer recipes are genuinely better (improved recipe testing?)\n\n-   Only highly-rated recipes get published/kept in recent years\n\n-   Survivorship bias (older poorly-rated recipes may have been removed)\n\nNewer recipes (post-2020) are rated significantly higher than older ones, with the average climbing from \\~3.5 to \\~4.5+ stars. However, this coincides with a massive increase in recipe volume, so it's worth investigating whether this is a quality improvement or a data collection artifact.\n\n#### Next, we'll check if total_ratings (number of reviews) differs by year\n\nnewer recipes might have fewer ratings:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  gf_point(total_ratings ~ date_published, alpha = 0.3, color = \"maroon\" ) %>% \n  gf_smooth(method = \"lm\", color = \"blue4\") %>% \n  gf_labs(\n    title = \"Do Newer Recipes Have Fewer Ratings?\",\n    x = \"Date Published\",\n    y = \"Total Number of Ratings\"\n  )\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n### Observations:\n\nOlder recipes have had more time but fewer ratings - This is counterintuitive! One would expect recipes from 2010 to have accumulated more ratings over 15 years, but they have very few. This might suggest that older recipes may be less visible/searchable on the platform or maybe even that the user base was much smaller in earlier years. Older recipes may also have been removed or not imported into current system.\n\nThe trend line is misleading here because it's heavily weighted by the massive volume of recent data. The relationship isn't really about \"time to accumulate ratings\"; it's about when the platform became popular/active.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  filter(total_ratings <= 50) %>% \n  gf_histogram(~total_ratings, binwidth = 1, color = \"seagreen4\") %>% \n  gf_labs(\n    title = \"Recipes with 50 or Fewer Ratings\",\n    x = \"Total Ratings\",\n    y = \"Number of Recipes\"\n  )\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n\n```{.r .cell-code}\ncuisines3 %>% \n  gf_histogram(~total_ratings, color = \"skyblue1\") %>% \n  gf_labs(\n    title = \" Distribution of total Recipe Ratings\",\n    x = \"Total Ratings\",\n    y = \"Number of Recipes\"\n  ) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`stat_bin()` using `bins = 30`. Pick better value `binwidth`.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-15-2.png){width=672}\n:::\n:::\n\n\n### Observations:\n\nThe vast majority of recipes in this dataset have 10 or fewer ratings, which means their avg_rating might not be very reliable. A recipe with 1 rating of 5 stars looks the same as a recipe with 500 ratings averaging 5 stars, but they're very different in terms of reliability. The earlier \"Do Newer Recipes Have Fewer Ratings?\" plot might be misleading because it's dominated by these low-count recipes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n  filter(total_ratings >= 10) %>% \n  gf_point(avg_rating ~ date_published, alpha = 0.3, color = \"maroon\") %>% \n  gf_smooth(method = \"lm\", color = \"blue\") %>% \n  gf_labs(\n    title = \"Recipe Ratings Over Time (≥10 ratings only)\",\n    subtitle = \"Filtered for more reliable ratings\",\n    x = \"Date Published\",\n    y = \"Average Rating\"\n  )\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n### Observations:\n\nThe linear trend line shows a clear upward movement, rising from approximately 4.15 in 2018 to about 4.55 by 2024–2025. Building on this observation, user rating behavior may also be becoming more generous over time.\n\nMost ratings cluster between 4.0 and 5.0, with very few recipes rated below 4.0. One possible explanation is that users are more likely to rate recipes they enjoyed, leading to rating inflation. Another possibility is selection bias: people tend to rate only the recipes they chose to make, which were already appealing to them. The rating system may not effectively differentiate between mediocre and excellent recipes.\n\n#### Filtering for Top Represented Cuisines in the data set:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n gf_bar(~ fct_infreq(cuisines_type) , fill = \"steelblue\") %>% \n  gf_theme(axis.text.x = element_text(angle = 90)) %>% \ngf_labs(\n    x = \"Cuisine Type\",\n    y = \"Number of Recipes\",\n    title = \"Top Cuisines by Recipe Count\"\n  )\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_cuisines <- cuisines3 %>%\n  count(cuisines_type) %>% \n  filter(n >= 60) %>%\n  pull(cuisines_type)\n\ncuisines3 %>%\n  filter(cuisines_type %in% top_cuisines) %>%\n  mutate(cuisines_type = fct_reorder(cuisines_type, avg_rating, median)) %>%\n  ggplot(aes(x = avg_rating, y = cuisines_type)) +\n  geom_boxplot(fill = \"gold\") +\n  labs(\n    y = \"Cuisine Type\",\n    x = \"Average Rating\",\n    title = \"Rating Distribution by Cuisine Type\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\nFrench cuisine seems to be the most popular in this data set, followed by Cajun and Creole, both with very narrow boxes. Almost all the dishes are rated somewhere between 4 and 5 stars.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(GGally)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'GGally'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:ggmosaic':\n\n    happy\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\n\n# Set theme with a safe font BEFORE making the plot\ntheme_set(theme_minimal(base_family = \"sans\"))\n\n# Then make your plot\nsuppressWarnings({\n  GGally::ggpairs(\n    cuisines3 %>% drop_na(),\n    columns = c(\"calories\", \"fat\", \"carbs\", \"protein\", \"avg_rating\", \"total_ratings\"),\n    diag = list(continuous = wrap(\"barDiag\", bins = 30)),\n    lower = list(continuous = wrap(\"smooth\", alpha = 0.3, se= FALSE, color=\"red\")),\n    upper = list(continuous = wrap(\"cor\", size = 4)),\n    progress = FALSE,\n    title = \"Nutritional Correlations\"\n  ) + \n    theme(text = element_text(family = \"sans\"))\n})\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Time variables\nsuppressWarnings({\n  GGally::ggpairs(\n    cuisines3 %>% tidyr::drop_na(),\n    columns = c(\"prep_time\", \"cook_time\", \"total_time\", \"servings\"),\n    progress = FALSE,\n    diag = list(continuous = wrap(\"barDiag\", bins = 25)),\n    lower = list(continuous = wrap(\"smooth\", alpha = 0.3, se = FALSE, color = \"red\")),\n    upper = list(continuous = wrap(\"cor\", size = 5)),\n    title = \"Recipe Time & Servings Correlations\"\n  ) +\n    theme_minimal(base_size = 12)\n})\n```\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-19-2.png){width=672}\n:::\n:::\n\n\n### Observations:\n\nIn the Recipe Time & Servings correlation chart, we find that there is a weak correlation overall between recipe time and servings. Recipes with long prep don't necessarily have long cook times. Recipe timing and serving size are mostly independent variables. A recipe for 2 people could take 15 minutes or 3 hours.\n\n-   In the Nutritional Content Correlations chart, we find much more interesting patterns:\n\n-   calories ↔ fat: 0.867\\*\\*\\* (VERY strong - fat drives calories)\n\n-   calories ↔ protein: 0.711\\*\\*\\* (strong - protein also adds calories)\n\n-   calories ↔ carbs: 0.595\\*\\*\\* (moderate - carbs matter less than fat/protein)\n\n-   fat ↔ protein: 0.573\\*\\*\\* (moderate - dishes high in one tend to be high in the other)\n\n-   avg_rating ↔ total_ratings: 0.087\\*\\*\\* (weak - popular recipes aren't necessarily better rated)\n\n-   Nutrition has almost NO relationship with ratings (all correlations near zero)\n\nThrough this, we found out that calorie content is mostly predicted by fat, then protein, then carbs and that people don't rate recipes based on nutritional content.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncuisines3 %>% \n   filter(cuisines_type %in% c(\"Canadian\", \"Chinese\",\"Filipino\", \"Indian\", \"Cuban\", \"Russian\")) %>%  # Top 5 for clarity\n gf_boxplot(reorder(cuisines_type, total_time) ~ log10(total_time), \n             fill = ~cuisines_type, \n             orientation = \"y\", \n             alpha = 0.5) %>% \n  gf_facet_wrap(vars(avg_rating)) %>% \n  gf_refine(scale_fill_brewer(type = \"qual\", palette = \"Dark2\")) %>% \n  gf_labs(\n    title = \"Log Cooking Time by Cuisine Type (Faceted by Average Rating)\",\n    x = \"Log Total Time (minutes)\",\n    y = \"Cuisine Type (ordered by time)\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 4 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](cuisines_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\nRating doesn't necessarily correlate with cooking time: both quick and lengthy recipes can achieve high ratings. Cuisine-specific patterns persist across ratings; each cuisine maintains its characteristic cooking time profile regardless of rating. **Cubans** have the highest cooking time, followed by **Russian** cuisine. **Chinese and Indian** cuisines tend to cluster at lower cooking times (shorter preparation). **Filipino** appears relatively quick to prepare across rating levels.\n\n------------------------------------------------------------------------\n\n## Conclusion:\n\nThis exploratory data analysis of 2,218 recipes from Allrecipes.com revealed a diverse data set spanning 49 cuisine types, publication dates from 2009 to 2025, and a wide nutritional range. After cleaning, only 1.2% of entries were removed due to missing values.\n\nNutritional patterns show that calories are strongly driven by fat, followed by protein and carbs, while nutrition has almost no relationship with recipe ratings. Recipes range from minimal-calorie condiments to rich, multi-serving dishes, with averages suggesting generally balanced meals.\n\nOver time, average recipe ratings have steadily increased from around 3.5 in 2009 to over 4.5 by 2025, likely reflecting rating inflation or platform evolution rather than drastic quality improvements. Most recipes have few total ratings, making many averages unreliable.\n\nAcross cuisines, cooking time varies distinctly: Cuban and Russian dishes are the longest, while Chinese and Filipino recipes are quicker to prepare. However, rating levels remain consistent regardless of cooking duration, indicating that user satisfaction isn’t tied to effort or time spent.\n\nOverall, the dataset captures a rich cross-section of global cooking trends, where nutritional richness, preparation time, and popularity differ by cuisine, but ratings remain uniformly high and largely unaffected by these factors.\n",
    "supporting": [
      "cuisines_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}